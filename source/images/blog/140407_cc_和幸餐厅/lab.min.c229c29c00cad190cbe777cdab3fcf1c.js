(function(c){function v(b,g){for(var f in b)b.hasOwnProperty(f)&&(g[f]=b[f]);return g}function x(b,g,f,c){b.onload=b.onreadystatechange=function(){b.readyState&&"complete"!=b.readyState&&"loaded"!=b.readyState||g[f]||(b.onload=b.onreadystatechange=null,c())}}function z(b){b.ready=b.finished=!0;for(var c=0;c<b.finished_listeners.length;c++)b.finished_listeners[c]();b.ready_listeners=[];b.finished_listeners=[]}function A(){function b(b,e,c,f){var j,a,g=function(){e.ready_cb(e,function(){var n=j,d=function(){null!=
a&&(a=null,z(n))},a;t[e.src].finished||(b[y]||(t[e.src].finished=!0),a=n.elem||document.createElement("script"),e.type&&(a.type=e.type),e.charset&&(a.charset=e.charset),x(a,n,"finished",d),n.elem?n.elem=null:n.text?(a.onload=a.onreadystatechange=null,a.text=n.text):a.src=e.real_src,h.insertBefore(a,h.firstChild),n.text&&d())})},p=function(){e.finished_cb(e,c)};a=e.src;var l=b[B],i=/^\w+\:\/\//;/^\/\/\/?/.test(a)?a=location.protocol+a:!i.test(a)&&"/"!=a.charAt(0)&&(a=(l||"")+a);a=i.test(a)?a:("/"==
a.charAt(0)?C:D)+a;e.src=a;e.real_src=e.src+(b[E]?(/\?.*$/.test(e.src)?"&_":"?_")+~~(1E9*Math.random())+"=":"");t[e.src]||(t[e.src]={items:[],finished:!1});a=t[e.src].items;if(b[y]||0==a.length){var d=j=a[a.length]={ready:!1,finished:!1,ready_listeners:[g],finished_listeners:[p]},u=f?function(){j.ready=!0;for(var a=0;a<j.ready_listeners.length;a++)j.ready_listeners[a]();j.ready_listeners=[]}:function(){z(j)};setTimeout(function(){var a,i=e.real_src,c;if("item"in h){if(!h[0]){setTimeout(arguments.callee,
25);return}h=h[0]}a=document.createElement("script");e.type&&(a.type=e.type);e.charset&&(a.charset=e.charset);f?w?(b[k]&&m("start script preload: "+i),d.elem=a,F?(a.preload=!0,a.onpreload=u):a.onreadystatechange=function(){a.readyState=="loaded"&&u()},a.src=i):f&&0==i.indexOf(C)&&b[G]?(c=new XMLHttpRequest,b[k]&&m("start script preload (xhr): "+i),c.onreadystatechange=function(){if(c.readyState==4){c.onreadystatechange=function(){};d.text=c.responseText+"\n//@ sourceURL="+i;u()}},c.open("GET",i),
c.send()):(b[k]&&m("start script preload (cache): "+i),a.type="text/cache-script",x(a,d,"ready",function(){h.removeChild(a);u()}),a.src=i,h.insertBefore(a,h.firstChild)):(H?(b[k]&&m("start script load (ordered async): "+i),a.async=!1):b[k]&&m("start script load: "+i),x(a,d,"finished",u),a.src=i,h.insertBefore(a,h.firstChild))},0)}else j=a[0],j.finished?p():j.finished_listeners.push(p)}function g(){function c(a,d){j[k]&&m("script preload finished: "+a.real_src);a.ready=!0;a.exec_trigger=d;g()}function e(a,
d){j[k]&&m("script execution finished: "+a.real_src);a.ready=a.finished=!0;a.exec_trigger=null;for(var b=0;b<d.scripts.length;b++)if(!d.scripts[b].finished)return;d.finished=!0;g()}function g(){for(;o<a.length;)if("[object Function]"==Object.prototype.toString.call(a[o])){j[k]&&m("$LAB.wait() executing: "+a[o]);try{a[o++]()}catch(b){j[k]&&I("$LAB.wait() error caught: ",b)}}else{if(!a[o].finished){for(var d=a[o],c=!1,e=0;e<d.scripts.length;e++)d.scripts[e].ready&&d.scripts[e].exec_trigger&&(c=!0,d.scripts[e].exec_trigger(),
d.scripts[e].exec_trigger=null);if(c)continue;break}o++}o==a.length&&(l=p=!1)}var h,j=v(f,{}),a=[],o=0,p=!1,l;h={script:function(){for(var i=0;i<arguments.length;i++){var d=arguments[i],f=arguments[i],g=void 0;"[object Array]"==Object.prototype.toString.call(d)||(f=[d]);for(var k=0;k<f.length;k++){if(!l||!l.scripts)a.push(l={scripts:[],finished:!0});d=f[k];"[object Function]"==Object.prototype.toString.call(d)&&(d=d());d&&("[object Array]"==Object.prototype.toString.call(d)?(g=[].slice.call(d),g.unshift(k,
1),[].splice.apply(f,g),k--):("string"==typeof d&&(d={src:d}),d=v(d,{ready:!1,ready_cb:c,finished:!1,finished_cb:e}),l.finished=!1,l.scripts.push(d),b(j,d,l,s&&p),p=!0,j[J]&&h.wait()))}}return h},wait:function(){if(0<arguments.length){for(var b=0;b<arguments.length;b++)a.push(arguments[b]);l=a[a.length-1]}else l=!1;g();return h}};return{script:h.script,wait:h.wait,setOptions:function(a){v(a,j);return h}}}var f={},s=w||L,q=[],t={},r;f[G]=!0;f[J]=!1;f[y]=!1;f[E]=!1;f[k]=!1;f[B]="";return r={setGlobalDefaults:function(b){v(b,
f);return r},setOptions:function(){return g().setOptions.apply(null,arguments)},script:function(){return g().script.apply(null,arguments)},wait:function(){return g().wait.apply(null,arguments)},queueScript:function(){q[q.length]={type:"script",args:[].slice.call(arguments)};return r},queueWait:function(){q[q.length]={type:"wait",args:[].slice.call(arguments)};return r},runQueue:function(){for(var b=r,e=q.length,c;0<=--e;)c=q.shift(),b=b[c.type].apply(null,c.args);return b},noConflict:function(){c.$LAB=
M;return r},sandbox:function(){return A()}}}var M=c.$LAB,G="UseLocalXHR",J="AlwaysPreserveOrder",y="AllowDuplicates",E="CacheBust",k="Debug",B="BasePath",D=/^[^?#]*\//.exec(location.href)[0],C=/^\w+\:\/\/\/?[^\/]+/.exec(D)[0],h=document.head||document.getElementsByTagName("head"),N=c.opera&&"[object Opera]"==Object.prototype.toString.call(c.opera)||"MozAppearance"in document.documentElement.style,m=function(){},I=m,s=document.createElement("script"),F="boolean"==typeof s.preload,w=F||s.readyState&&
"uninitialized"==s.readyState,H=!w&&!0===s.async,L=!w&&!H&&!N;c.console&&c.console.log&&(c.console.error||(c.console.error=c.console.log),m=function(b){c.console.log(b)},I=function(b,g){c.console.error(b,g)});c.$LAB=A();var K=void 0;null==document.readyState&&document.addEventListener&&(document.readyState="loading",document.addEventListener("DOMContentLoaded",K=function(){document.removeEventListener("DOMContentLoaded",K,false);document.readyState="complete"},!1))})(this);
